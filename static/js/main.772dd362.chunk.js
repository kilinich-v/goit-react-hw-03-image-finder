(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{24:function(e,t,c){},65:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),o=c(18),r=c.n(o),i=(c(24),c(4)),s=c(1),l=function(e){var t=e.onSubmit,c=Object(n.useState)(""),a=Object(i.a)(c,2),o=a[0],r=a[1];return Object(s.jsx)("header",{className:"Searchbar",children:Object(s.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(o)},children:[Object(s.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(s.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(s.jsx)("input",{className:"SearchForm-input",type:"text",value:o,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){r(e.target.value)}})]})})},u=c(9),j=c(19),b=c.n(j),m=c(8),h=c.n(m);h.a.defaults.baseURL="https://pixabay.com/api";var d=function(e){var t=e.images,c=e.onClick,n=function(e){return e.slice(27,e.length-1).replace(/[0-9]+/,"").split("-").join(" ")};return Object(s.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(s.jsx)("li",{className:"ImageGalleryItem",onClick:function(){return c(e.largeImageURL,n(e.pageURL))},children:Object(s.jsx)("img",{src:e.webformatURL,alt:n(e.pageURL),className:"ImageGalleryItem-image"})},e.id)}))})},f=function(e){var t=e.imageModal,c=e.closeModal;Object(n.useEffect)((function(){document.addEventListener("keydown",(function(e){"Escape"===e.code&&c()}))}));return Object(s.jsx)("div",{className:"Overlay",onClick:function(e){"IMG"!==e.target.nodeName&&c()},children:Object(s.jsx)("div",{className:"Modal",children:Object(s.jsx)("img",{src:t.url,alt:t.alt})})})},O=function(e){return Object(s.jsx)("div",{className:"flexContainer",children:Object(s.jsx)("button",{className:"Button",onClick:e.onClick,children:"Load more"})})},g=(c(64),function(e){var t=e.query,c=e.page,a=e.changePage,o=Object(n.useState)([]),r=Object(i.a)(o,2),l=r[0],j=r[1],m=Object(n.useState)(),g=Object(i.a)(m,2),p=g[0],x=g[1],v=Object(n.useState)(!1),S=Object(i.a)(v,2),y=S[0],N=S[1],k=Object(n.useState)(""),C=Object(i.a)(k,2),w=C[0],F=C[1];Object(n.useEffect)((function(){var e,n;t&&(N(!0),(e=t,n=c,h.a.get("/?key=".concat("2778632-0d9f36dba3e3cb8ecea612bcf","&q=").concat(e,"&page=").concat(n,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits})).catch((function(e){return console.log(e)}))).then((function(e){return j((function(t){return[].concat(Object(u.a)(t),Object(u.a)(e))}))})).then((function(){c>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return F(e.message)})).finally((function(){return N(!1)})))}),[t,c]),Object(n.useEffect)((function(){t&&(N(!0),j([]))}),[t]);return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(d,{images:l,onClick:function(e,t){x({url:e,alt:t})}}),w&&Object(s.jsx)("h2",{children:w}),p&&Object(s.jsx)(f,{imageModal:p,closeModal:function(){x(null)}}),y&&Object(s.jsx)("div",{className:"spinner",children:Object(s.jsx)(b.a,{type:"ThreeDots",color:"#00BFFF",height:30,width:50})}),!y&&t&&Object(s.jsx)(O,{onClick:a})]})}),p=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],o=Object(n.useState)(1),r=Object(i.a)(o,2),u=r[0],j=r[1];Object(n.useEffect)((function(){j(1)}),[c]);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(l,{onSubmit:function(e){a(e)}}),Object(s.jsx)(g,{query:c,page:u,changePage:function(){j(u+1)}})]})};r.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(p,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.772dd362.chunk.js.map